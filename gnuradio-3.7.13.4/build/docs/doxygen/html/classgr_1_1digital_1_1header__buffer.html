<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GNU Radio Manual and C++ API Reference: gr::digital::header_buffer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="gnuradio_logo_icon.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">GNU Radio Manual and C++ API Reference
   &#160;<span id="projectnumber">3.7.13.4</span>
   </div>
   <div id="projectbrief">The Free &amp; Open Software Radio Ecosystem</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classgr_1_1digital_1_1header__buffer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgr_1_1digital_1_1header__buffer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">gr::digital::header_buffer Class Reference<div class="ingroups"><a class="el" href="group__packet__operators__blk.html">Packet/Frame Operators</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Helper class for handling payload headers.  
 <a href="classgr_1_1digital_1_1header__buffer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="header__buffer_8h_source.html">gnuradio/digital/header_buffer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a97dc6589ea2b38e8d095e596fe47b57d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__buffer.html#a97dc6589ea2b38e8d095e596fe47b57d">header_buffer</a> (uint8_t *<a class="el" href="classgr_1_1buffer.html">buffer</a>=NULL)</td></tr>
<tr class="separator:a97dc6589ea2b38e8d095e596fe47b57d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd5b0a87ce62846446625bb9312b08a6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__buffer.html#acd5b0a87ce62846446625bb9312b08a6">~header_buffer</a> ()</td></tr>
<tr class="separator:acd5b0a87ce62846446625bb9312b08a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af519c5fa14b0e36f22ae2e84ae456d96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__buffer.html#af519c5fa14b0e36f22ae2e84ae456d96">clear</a> ()</td></tr>
<tr class="separator:af519c5fa14b0e36f22ae2e84ae456d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97912193dbfc04a41f74a269adbe5ee8"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__buffer.html#a97912193dbfc04a41f74a269adbe5ee8">length</a> () const </td></tr>
<tr class="separator:a97912193dbfc04a41f74a269adbe5ee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6555edbb0a92a1caa982fbd23451715"><td class="memItemLeft" align="right" valign="top">const uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__buffer.html#ad6555edbb0a92a1caa982fbd23451715">header</a> () const </td></tr>
<tr class="separator:ad6555edbb0a92a1caa982fbd23451715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1077d48c4fcc9e933febdfccb42a074c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__buffer.html#a1077d48c4fcc9e933febdfccb42a074c">add_field8</a> (uint8_t data, int len=8, bool bs=false)</td></tr>
<tr class="separator:a1077d48c4fcc9e933febdfccb42a074c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cf9f89abfdd3dcace2f3b2996fdb6ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__buffer.html#a6cf9f89abfdd3dcace2f3b2996fdb6ca">add_field16</a> (uint16_t data, int len=16, bool bs=false)</td></tr>
<tr class="separator:a6cf9f89abfdd3dcace2f3b2996fdb6ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86782016d8dca53a86e15c7da050d274"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__buffer.html#a86782016d8dca53a86e15c7da050d274">add_field32</a> (uint32_t data, int len=32, bool bs=false)</td></tr>
<tr class="separator:a86782016d8dca53a86e15c7da050d274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54be38061f8ef8930082e0269572cad1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__buffer.html#a54be38061f8ef8930082e0269572cad1">add_field64</a> (uint64_t data, int len=64, bool bs=false)</td></tr>
<tr class="separator:a54be38061f8ef8930082e0269572cad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07abe8c006a763599e618389aed5a8e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__buffer.html#a07abe8c006a763599e618389aed5a8e4">insert_bit</a> (int bit)</td></tr>
<tr class="separator:a07abe8c006a763599e618389aed5a8e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790a99b9ba623fc93ad3e434aa786e64"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__buffer.html#a790a99b9ba623fc93ad3e434aa786e64">extract_field8</a> (int pos, int len=8, bool bs=false)</td></tr>
<tr class="separator:a790a99b9ba623fc93ad3e434aa786e64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64fde79f75a6559b250c3e8e5e56342c"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__buffer.html#a64fde79f75a6559b250c3e8e5e56342c">extract_field16</a> (int pos, int len=16, bool bs=false)</td></tr>
<tr class="separator:a64fde79f75a6559b250c3e8e5e56342c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a254103c5b6e478efa1966d6cdac23960"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__buffer.html#a254103c5b6e478efa1966d6cdac23960">extract_field32</a> (int pos, int len=32, bool bs=false)</td></tr>
<tr class="separator:a254103c5b6e478efa1966d6cdac23960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4b49676678d786e9c9b378962464d5a"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__buffer.html#ac4b49676678d786e9c9b378962464d5a">extract_field64</a> (int pos, int len=64, bool bs=false)</td></tr>
<tr class="separator:ac4b49676678d786e9c9b378962464d5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Helper class for handling payload headers. </p>
<p>This class is used by the header format blocks (e.g., <a class="el" href="classgr_1_1digital_1_1header__format__default.html" title="Default header formatter for PDU formatting. ">digital::header_format_default</a>) to make it easier to deal with payload headers. This class functions in two different ways depending on if it is used in a transmitter or receiver. When used in a transmitter, this class helps us build headers out of the fields of the protocol. When used in a receiver, this class helps us parse the received bits into the protocol's fields.</p>
<p>This page describes how to work with the different modes, transmit or receive. The class is instructed as to which mode it is in by how the constructor is called. If the constructor is passed a valid array (non NULL), then it is in transmit mode and will pack this buffer with the header fields. If that buffer is NULL, the object is in receive mode.</p>
<h1><a class="anchor" id="header_buffer_tx"></a>
Transmit Mode</h1>
<p>When passed a valid buffer in the constructor, this object is in transmit mode. We can then use the add_field[N] functions to add new fields to this header. The buffer MUST be large enough to hold the full header. As this class is meant to work mostly with the <a class="el" href="classgr_1_1digital_1_1header__format__default.html" title="Default header formatter for PDU formatting. ">digital::header_format_default</a> and child classes, the header length can be read from <a class="el" href="classgr_1_1digital_1_1header__format__base.html#a62bfba430c097b94db6d9a55e581b04b">digital::header_format_default::header_nbytes()</a>.</p>
<p>Each field is a specific length of 8, 16, 32, or 64 bits that are to be transmitted in network byte order. We can adjust the direction of the bytes by setting the byte-swap flag, <code>bs</code>, to true or false.</p>
<p>The length argument (<code>len</code>) for all add_field[N] calls is the number of bytes actually accounted for in the data structure. Often, we would use the full size of the field, which is sizeof(dtype), and the add_field[N] call defaults to len=N. Occasionally, we may need to use fewer bytes than actually represented by the data type. An example would be the access code used in the <a class="el" href="classgr_1_1digital_1_1header__format__default.html" title="Default header formatter for PDU formatting. ">header_format_default</a>, which is a uint64_t type but may have fewer bytes used in the actual access code.</p>
<p>The function that calls this class is expected to handle the memory handling of the buffer &ndash; both allocating and deallocating.</p>
<p>As simple example of using this class in transmit mode:</p>
<pre class="fragment">uint8_t* buffer = (uint8_t*)volk_malloc(header_nbytes(),
                                        volk_get_alignment());

header_buffer hdr(buffer);
hdr.add_field64(sync_word, sync_word_len);
hdr.add_field16(payload_length);
hdr.add_field8(header_flags);
hdr.add_field8(header_options);

// Do something with the header

volk_free(buffer);
</pre><p>In this example, the header contains four fields:</p>
<pre class="fragment">  |0                           15|16          23|24          31|
  |                          sync word                         |
  |                                                            |
  |           length             |     flags    |   options    |</pre><p>The sync word can be up to 64-bits, but the add_field64 is also passed the number of actual bytes in the sync word and so could be fewer.</p>
<h1><a class="anchor" id="header_buffer_rx"></a>
Receive Mode</h1>
<p>In receive mode, we build up the header as bits are received by inserting them with insert_bit. We can find out how long the current header is, in bits, using the call to <a class="el" href="classgr_1_1digital_1_1header__buffer.html#a97912193dbfc04a41f74a269adbe5ee8">length()</a>. If the header is of the appropriate length, we can then start extracting the fields from it. When we are done with the current header, call <a class="el" href="classgr_1_1digital_1_1header__buffer.html#af519c5fa14b0e36f22ae2e84ae456d96">clear()</a> to reset the internal buffer to empty, which will mean that <a class="el" href="classgr_1_1digital_1_1header__buffer.html#a97912193dbfc04a41f74a269adbe5ee8">length()</a> returns 0.</p>
<p>The header fields are extracted using the extract_field[N] functions. Like the add_field[N] functions, we specify the size (in bits) of the field we are extracting. We pass this function the bit-position of the expected field in the received header buffer. The extract_field[N] assumes that the number of bits for the field is N, but we can tell the function to use fewer bits if we want. Setting the length parameter of these functions greater than N is illegal, and it will throw an error.</p>
<p>For example, given a header of | length | seq. num. | where the length is 16 bits and the sequence number is 32 bits, we would use:</p>
<pre class="fragment">     uint16_t len = d_hdr_reg.extract_field16(0);
     uint32_t seq = d_hdr_reg.extract_field32(16);</pre><p>The extract_field functions are specific to data types of the field and the number of bits for each field is inferred by the data type. So extract_field16 assumes we want all 16 bits in the field represented.</p>
<p>Some headers have fields that are not standard sizes of integers, like a 1 bit, 4 bit, or even 12 bit fields. We can ask for fewer bits for each field. say:</p>
<pre class="fragment">  |0          15|16     19|20          31|
  |     len     |  flags  |   options    |</pre><p>We would use the following extraction functions:</p>
<pre class="fragment">     uint16_t len   = d_hdr_reg.extract_field16(0);
     uint8_t  flags = d_hdr_reg.extract_field8(16, 4);
     uint16_t opts  = d_hdr_reg.extract_field16(20, 12);</pre><dl class="section see"><dt>See Also</dt><dd><a class="el" href="classgr_1_1digital_1_1header__format__default.html" title="Default header formatter for PDU formatting. ">header_format_default</a> </dd>
<dd>
<a class="el" href="classgr_1_1digital_1_1header__format__counter.html" title="Header formatter that adds the payload bits/symbol format and a packet number counter. ">header_format_counter</a> </dd>
<dd>
<a class="el" href="classgr_1_1digital_1_1header__format__crc.html" title="Header formatter that includes the payload length, packet number, and a CRC check on the header...">header_format_crc</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a97dc6589ea2b38e8d095e596fe47b57d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gr::digital::header_buffer::header_buffer </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a header buffer object with a pre-allocated buffer, <code>buffer</code>, to hold the formatted header data.</p>
<p>If <code>buffer</code> is set to NULL, then this object is in receive mode meant to receive bits from an incoming data stream and provide the ability to extract fields. In this mode, calls to add_field are invalid and will be nops. </p>

</div>
</div>
<a class="anchor" id="acd5b0a87ce62846446625bb9312b08a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gr::digital::header_buffer::~header_buffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Class destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6cf9f89abfdd3dcace2f3b2996fdb6ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gr::digital::header_buffer::add_field16 </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em> = <code>16</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bs</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add an 16-bit field to the header.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The 16-bit data item. </td></tr>
    <tr><td class="paramname">len</td><td>Length (in bits) of <code>data</code>. </td></tr>
    <tr><td class="paramname">bs</td><td>Set to 'true' to byte swap the data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a86782016d8dca53a86e15c7da050d274"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gr::digital::header_buffer::add_field32 </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em> = <code>32</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bs</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add an 32-bit field to the header.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The 32-bit data item. </td></tr>
    <tr><td class="paramname">len</td><td>Length (in bits) of <code>data</code>. </td></tr>
    <tr><td class="paramname">bs</td><td>Set to 'true' to byte swap the data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a54be38061f8ef8930082e0269572cad1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gr::digital::header_buffer::add_field64 </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em> = <code>64</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bs</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add an 64-bit field to the header.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The 64-bit data item. </td></tr>
    <tr><td class="paramname">len</td><td>Length (in bits) of <code>data</code>. </td></tr>
    <tr><td class="paramname">bs</td><td>Set to 'true' to byte swap the data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1077d48c4fcc9e933febdfccb42a074c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gr::digital::header_buffer::add_field8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em> = <code>8</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bs</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add an 8-bit field to the header.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The 8-bit data item. </td></tr>
    <tr><td class="paramname">len</td><td>Length (in bits) of <code>data</code>. </td></tr>
    <tr><td class="paramname">bs</td><td>Set to 'true' to byte swap the data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af519c5fa14b0e36f22ae2e84ae456d96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gr::digital::header_buffer::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clears the header.</p>
<p>In transmit mode, this resets the current offset so new add_field functions start adding data to the start of the buffer.</p>
<p>In receive mode, this clears the buffer that we have inserted bits in to. </p>

</div>
</div>
<a class="anchor" id="a64fde79f75a6559b250c3e8e5e56342c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t gr::digital::header_buffer::extract_field16 </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em> = <code>16</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bs</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns up to a 16-bit field in the packet header.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>Bit position of the start of the field. </td></tr>
    <tr><td class="paramname">len</td><td>The number of bits in the field. </td></tr>
    <tr><td class="paramname">bs</td><td>Set to 'true' to byte swap the data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a254103c5b6e478efa1966d6cdac23960"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t gr::digital::header_buffer::extract_field32 </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em> = <code>32</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bs</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns up to a 32-bit field in the packet header.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>Bit position of the start of the field. </td></tr>
    <tr><td class="paramname">len</td><td>The number of bits in the field. </td></tr>
    <tr><td class="paramname">bs</td><td>Set to 'true' to byte swap the data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac4b49676678d786e9c9b378962464d5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t gr::digital::header_buffer::extract_field64 </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em> = <code>64</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bs</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns up to a 64-bit field in the packet header.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>Bit position of the start of the field. </td></tr>
    <tr><td class="paramname">len</td><td>The number of bits in the field. </td></tr>
    <tr><td class="paramname">bs</td><td>Set to 'true' to byte swap the data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a790a99b9ba623fc93ad3e434aa786e64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t gr::digital::header_buffer::extract_field8 </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em> = <code>8</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bs</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns up to an 8-bit field in the packet header.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>Bit position of the start of the field. </td></tr>
    <tr><td class="paramname">len</td><td>The number of bits in the field. </td></tr>
    <tr><td class="paramname">bs</td><td>Set to 'true' to byte swap the data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad6555edbb0a92a1caa982fbd23451715"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t* gr::digital::header_buffer::header </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a constant pointer to the buffer. </p>

</div>
</div>
<a class="anchor" id="a07abe8c006a763599e618389aed5a8e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gr::digital::header_buffer::insert_bit </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insert a new bit on the back of the input buffer. This function is used in receive mode to add new bits as they are received for later use of the extract_field functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bit</td><td>New bit to add. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a97912193dbfc04a41f74a269adbe5ee8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t gr::digital::header_buffer::length </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>In transmit mode, this returns the length of the data in the buffer (not the allocated buffer length).</p>
<p>In receiving mode, this returns the current length in bits of the received header. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="header__buffer_8h_source.html">header_buffer.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacegr.html">gr</a></li><li class="navelem"><a class="el" href="namespacegr_1_1digital.html">digital</a></li><li class="navelem"><a class="el" href="classgr_1_1digital_1_1header__buffer.html">header_buffer</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
